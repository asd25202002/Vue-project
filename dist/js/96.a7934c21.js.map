{"version":3,"file":"js/96.a7934c21.js","mappings":"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","sources":["webpack://cat-house/./src/methods/favorite.js","webpack://cat-house/./src/views/UserproductViews.vue","webpack://cat-house/./src/views/UserproductViews.vue?d02e"],"sourcesContent":["export default {\n  storeFavorite(favorite) {\n    const favoriteStr = JSON.stringify(favorite);\n    localStorage.setItem('favoriteProduct', favoriteStr);\n  },\n  getFavorite() {\n    return JSON.parse(localStorage.getItem('favoriteProduct'));\n  },\n};\n","<template>\n  <main class=\"my-4\">\n    <hr>\n    <div class=\"container\">\n      <nav style=\"--bs-breadcrumb-divider: '>';\" aria-label=\"索引列\">\n        <ol class=\"breadcrumb\">\n          <li class=\"breadcrumb-item\">\n            首頁\n          </li>\n          <li class=\"breadcrumb-item\">\n            {{ product.category }}\n          </li>\n          <li class=\"breadcrumb-item active\" aria-current=\"page\">{{ product.title }}</li>\n        </ol>\n      </nav>\n      <div class=\"row\">\n        <div class=\"col-lg-6\">\n          <img :src=\"product.imageUrl\" :alt=\"product.title\" class=\"img-fluid\">\n        </div>\n        <div class=\"col-lg-6\">\n          <p class=\"fs-3\">{{ product.title }}</p>\n          <p class=\"fs-5\">售價：NT<i class=\"bi bi-currency-dollar\"></i>{{ product.price }}</p>\n          <hr>\n          <div class=\"btn-group\">\n            <button type=\"button\" class=\"btn btn-outline-success\"\n            @click.prevent=\"addCart(product.id)\">\n              <i class=\"bi bi-cart\"></i>\n              加入購物車\n            </button>\n            <button type=\"button\" class=\"btn btn-outline-danger\"\n            @click.prevent=\"toggleFavorite(product)\">\n              <i class=\"bi bi-heart\"></i>\n              加入願望清單\n            </button>\n          </div>\n        </div>\n      </div>\n      <ul class=\"nav nav-tabs mb-3\">\n        <li class=\"nav-item active\">\n          <a href=\"#\" class=\"nav-link link-dark\" aria-current=\"page\" @click.prevent=\"page = '產品描述'\">\n            產品描述\n          </a>\n        </li>\n        <li class=\"nav-item\">\n          <a href=\"#\" class=\"nav-link link-dark\" @click.prevent=\"page = '產品說明'\">\n            產品內容\n          </a>\n        </li>\n      </ul>\n      <div class=\"mb-3\" v-if=\"page === '產品描述'\">\n        <p class=\"fs-3\"><strong>產品描述</strong></p>\n        {{ product.description }}\n      </div>\n      <div class=\"mb-3\" v-if=\"page === '產品說明'\">\n        <p class=\"fs-3\"><strong>產品說明</strong></p>\n        {{ product.content }}\n      </div>\n      <div class=\"mb-3 fs-3\"><strong>你可能也會喜歡....</strong></div>\n      <ul class=\"row g-4 p-0 list-unstyled\">\n        <template v-for=\"(recommend, i) in filterProducts\" :key=\"recommend.id\">\n          <li class=\"col-sm-6 col-lg-2 border-0\"\n          v-if=\"i < 6 && recommend.id !== product.id\">\n            <div class=\"card border-0 h-100\">\n              <img :src=\"recommend.imageUrl\" alt=\"product.title\"\n              class=\"img-fluid mx-auto productImg-size\">\n              <div class=\"card-body text-center\">\n                <h5 class=\"card-title text-truncate\">{{ recommend.title }}</h5>\n                <p class=\"card-text\">\n                  遊戲人數：{{ recommend.unit }} 人\n                </p>\n                <p class=\"card-text\">\n                  發行商：{{ recommend.category }}\n                </p>\n                <p class=\"card-text\">\n                  NT<i class=\"bi bi-currency-dollar\"></i>{{ $filters.currency(recommend.price) }}\n                </p>\n                <a type=\"button\"\n                class=\"btn btn-secondary stretched-link\" href=\"#\"\n                @click.prevent=\"gotoProduct(recommend.id)\">\n                  前往\n                </a>\n              </div>\n            </div>\n          </li>\n        </template>\n      </ul>\n    </div>\n  </main>\n</template>\n\n<script>\nimport handleFavorite from '@/methods/favorite';\n\nexport default {\n  data() {\n    return {\n      product: {},\n      products: [],\n      page: '產品描述',\n      myFavorite: handleFavorite.getFavorite() || [],\n    };\n  },\n  inject: ['emitter', 'toastMessagesMixin'],\n  methods: {\n    getProducts() {\n      // 產品重新載入\n      this.isLoading = true;\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products/all`;\n      this.$http.get(url).then((response) => {\n        this.isLoading = false;\n        if (response.data.success) {\n          this.products = response.data.products;\n          this.pagination = response.data.pagination;\n        }\n      });\n    },\n    getProduct(productID) {\n      // 產品資訊\n      const id = productID || this.$route.params.id;\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/product/${id}`;\n      this.$http.get(url).then((response) => {\n        this.isLoading = false;\n        if (response.data.success) {\n          this.product = response.data.product;\n        }\n      });\n    },\n    addCart(productID) {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\n      const cart = {\n        product_id: productID,\n        qty: 1,\n      };\n      this.$http.post(url, { data: cart }).then((response) => {\n        this.isLoading = false;\n        if (response.data.success) {\n          this.emitter.emit('update-cart');\n          this.toastMessagesMixin(response, '加入購物車');\n        }\n      });\n    },\n    gotoProduct(productID) {\n      // 跳轉產品頁面\n      this.$router.push({\n        name: 'userproduct',\n        params: {\n          id: productID,\n        },\n      });\n      this.getProduct(productID);\n    },\n    toggleFavorite(item) {\n      if (this.myFavorite.includes(item.id)) {\n        this.myFavorite.splice(this.myFavorite.indexOf(item.id), 1);\n        this.toastMessagesMixin({\n          data: {\n            success: true,\n            message: `已將 ${item.title} 移除收藏`,\n          },\n        }, '移除收藏');\n      } else {\n        this.myFavorite.push(item.id);\n        this.toastMessagesMixin({\n          data: {\n            success: true,\n            message: `已將 ${item.title} 加入收藏`,\n          },\n        }, '加入收藏');\n      }\n      handleFavorite.storeFavorite(this.myFavorite);\n      this.emitter.emit('update-favorite');\n    },\n  },\n  computed: {\n    filterProducts() {\n      // 收尋 category\n      return this.products.filter((product) => {\n        const response = product.category.match(this.product.category);\n        return response;\n      });\n    },\n  },\n  created() {\n    this.getProduct();\n    this.getProducts();\n  },\n};\n</script>\n","import { render } from \"./UserproductViews.vue?vue&type=template&id=bc12e750\"\nimport script from \"./UserproductViews.vue?vue&type=script&lang=js\"\nexport * from \"./UserproductViews.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"G:\\\\六角\\\\Vue\\\\Vue-project\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["storeFavorite","favorite","favoriteStr","JSON","stringify","localStorage","setItem","getFavorite","parse","getItem","class","_createElementVNode","style","_hoisted_19","_hoisted_22","_createElementBlock","_hoisted_2","_hoisted_6","_toDisplayString","$data","category","title","src","imageUrl","alt","_hoisted_16","price","_hoisted_17","type","onClick","$options","id","href","_hoisted_29","description","_hoisted_31","content","_hoisted_32","_Fragment","_renderList","recommend","i","unit","_hoisted_43","_ctx","currency","_hoisted_44","data","product","products","page","myFavorite","handleFavorite","inject","methods","getProducts","this","isLoading","url","$http","get","then","response","success","pagination","getProduct","productID","$route","params","addCart","cart","product_id","qty","post","emitter","emit","toastMessagesMixin","gotoProduct","$router","push","name","toggleFavorite","item","includes","splice","indexOf","message","computed","filterProducts","filter","match","created","__exports__","render"],"sourceRoot":""}