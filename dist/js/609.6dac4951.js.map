{"version":3,"file":"js/609.6dac4951.js","mappings":"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","sources":["webpack://cat-house/./src/views/UserloginViews.vue","webpack://cat-house/./src/views/UserloginViews.vue?8e7b"],"sourcesContent":["<template>\n  <main class=\"my-4\">\n      <hr>\n      <div class=\"container my-5\">\n        <div class=\"mb-3 text-center fs-3\">後台管理</div>\n        <div class=\"mb-4 text-center fs-5\">歡迎使用後台管理服務</div>\n        <V-form class=\"mx-auto logo\" v-slot=\"{ errors }\" @submit=\"signIn\">\n          <div class=\"mb-3 fs-5\">\n            <label for=\"inputUserEmail\" class=\"form-label\">帳號</label>\n            <span class=\"text-danger\">*</span>\n            <VField type=\"email\" name=\"email\" id=\"inputUserEmail\"\n            class=\"form-control\" :class=\"{ 'is-invalid': errors['email'] }\"\n            placeholder=\"name@example.com\"\n            rules=\"email|required\"\n            aria-label=\"電子郵件帳號輸入框\"\n            v-model=\"user.username\" />\n            <ErrorMessage name=\"email\" class=\"invalid-feedback\" />\n          </div>\n          <div class=\"mb-4 fs-5\">\n            <label for=\"inputUserPassword\" class=\"form-label\">密碼</label>\n            <span class=\"text-danger\">*</span>\n            <VField type=\"password\" name=\"password\" id=\"inputUserPassword\"\n            class=\"form-control\" :class=\"{ 'is-invalid': errors['password'] }\"\n            placeholder=\"password\"\n            rules=\"required\"\n            aria-label=\"密碼輸入框\"\n            v-model=\"user.password\" />\n            <ErrorMessage name=\"password\" class=\"invalid-feedback\" />\n          </div>\n          <div class=\"form-text\">提醒您在公共場所登入時，須小心。</div>\n          <div class=\"mb-4 text-end\">\n            <button type=\"submit\" class=\"btn btn-outline-success\">登入</button>\n          </div>\n        </V-form>\n        <div class=\"text-center fs-1\"><strong>注意事項</strong></div>\n        <div class=\"text-center fs-5\">此處為供使用者管理產品、訂單、優惠卷等所使用，若忘記帳密請點選\n          <a href=\"./index.html\"> 忘記密碼</a>\n        </div>\n      </div>\n    </main>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      // 使用者資料\n      user: {\n        username: '',\n        password: '',\n      },\n    };\n  },\n  methods: {\n    signIn() {\n      // 登入\n      const url = `${process.env.VUE_APP_API}admin/signin`;\n      this.$http.post(url, this.user).then((response) => {\n        if (response.data.success) {\n          const { token, expired } = response.data;\n          document.cookie = `hexToken=${token}; expires=${new Date(expired)}`;\n          this.$router.push({ name: 'admin' });\n        }\n      });\n    },\n    checkSignIn() {\n      // 檢查登入狀態\n      const token = document.cookie.replace(/(?:(?:^|.*;\\s*)hexToken\\s*=\\s*([^;]*).*$)|^.*$/, '$1');\n      this.$http.defaults.headers.common.Authorization = token;\n      const url = `${process.env.VUE_APP_API}api/user/check`;\n      this.$http.post(url).then((response) => {\n        if (response.data.success) {\n          this.$router.push({ name: 'admin' });\n        } else {\n          this.$router.push({ name: 'login' });\n        }\n      });\n    },\n  },\n  created() {\n    this.checkSignIn();\n  },\n};\n</script>\n","import { render } from \"./UserloginViews.vue?vue&type=template&id=d49c1670\"\nimport script from \"./UserloginViews.vue?vue&type=script&lang=js\"\nexport * from \"./UserloginViews.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"G:\\\\六角\\\\Vue\\\\Vue-project\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","for","type","href","_createElementBlock","_hoisted_2","_hoisted_4","_hoisted_5","_createVNode","_component_V_form","onSubmit","$options","errors","_hoisted_7","_hoisted_8","_component_VField","name","id","placeholder","rules","$data","username","$event","_component_ErrorMessage","_hoisted_10","_hoisted_11","password","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","data","user","methods","signIn","url","this","$http","post","then","response","success","token","expired","document","cookie","Date","$router","push","checkSignIn","replace","defaults","headers","common","Authorization","created","__exports__","render"],"sourceRoot":""}