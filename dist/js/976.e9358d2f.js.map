{"version":3,"file":"js/976.e9358d2f.js","mappings":"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","sources":["webpack://cat-house/./src/methods/favorite.js","webpack://cat-house/./src/views/UserfavonriteViews.vue","webpack://cat-house/./src/views/UserfavonriteViews.vue?e433"],"sourcesContent":["export default {\n  storeFavorite(favorite) {\n    const favoriteStr = JSON.stringify(favorite);\n    localStorage.setItem('favoriteProduct', favoriteStr);\n  },\n  getFavorite() {\n    return JSON.parse(localStorage.getItem('favoriteProduct'));\n  },\n};\n","<template>\n  <main>\n    <div class=\"container\">\n      <table class=\"table table-hover align-middle\" v-if=\"myFavorite.length\">\n        <thead>\n          <tr>\n            <th class=\"text-center\">圖片</th>\n            <th class=\"text-center\">分類</th>\n            <th>產品名稱</th>\n            <th class=\"text-right\">原價</th>\n            <th class=\"text-right\">售價</th>\n            <th class=\"text-center\">編輯</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr v-for=\"product in products\" :key=\"product.id\">\n            <td class=\"text-center\">\n              <img :src=\"product.imageUrl\" :alt=\"product.title\"\n              class=\"img-fluid cartImg-size\">\n            </td>\n            <td class=\"text-center\">{{ product.category }}</td>\n            <td>{{ product.title }}</td>\n            <td class=\"text-right\">{{ $filters.currency(product.origin_price) }}</td>\n            <td class=\"text-right\">{{ $filters.currency(product.price) }}</td>\n            <td class=\"text-center\">\n              <div class=\"btn-group\">\n                <button type=\"button\" class=\"btn btn-danger\"\n                @click.prevent=\"removeFavorite(product)\">\n                  <i class=\"bi bi-heart\"></i>\n                </button>\n              </div>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n      <div class=\"py-4 fs-5 text-muted\" v-else>您還沒有願望清單</div>\n    </div>\n  </main>\n</template>\n\n<script>\nimport handleFavorite from '@/methods/favorite';\n\nexport default {\n  data() {\n    return {\n      myFavorite: handleFavorite.getFavorite() || [],\n      products: '',\n      isLoading: false,\n    };\n  },\n  inject: ['emitter', 'toastMessagesMixin'],\n  methods: {\n    getFavorite() {\n      this.myFavorite = handleFavorite.getFavorite();\n      this.getProducts();\n    },\n    getProducts() {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products/all`;\n      this.$http.get(url)\n        .then((response) => {\n          if (!response.data.success) {\n            this.toastMessagesMixin(response, '取得全部產品資料');\n            return;\n          }\n          this.products = response.data.products\n            .filter((product) => this.myFavorite.includes(product.id));\n        })\n        .catch((error) => {\n          this.toastMessagesMixin(error, '連線錯誤');\n        });\n    },\n    removeFavorite(item) {\n      this.isLoading = true;\n      this.myFavorite.splice(this.myFavorite.indexOf(item.id), 1);\n      this.toastMessagesMixin({\n        data: {\n          success: true,\n          message: `已將 ${item.title} 移除收藏`,\n        },\n      }, '移除收藏');\n      handleFavorite.storeFavorite(this.myFavorite);\n      this.emitter.emit('update-favorite');\n      this.getFavorite();\n      this.isLoading = false;\n    },\n  },\n  mounted() {\n    this.getProducts();\n  },\n};\n</script>\n","import { render } from \"./UserfavonriteViews.vue?vue&type=template&id=5822e700\"\nimport script from \"./UserfavonriteViews.vue?vue&type=script&lang=js\"\nexport * from \"./UserfavonriteViews.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"G:\\\\六角\\\\Vue\\\\Vue-project\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["storeFavorite","favorite","favoriteStr","JSON","stringify","localStorage","setItem","getFavorite","parse","getItem","class","_createElementVNode","_hoisted_12","_createElementBlock","$data","length","_hoisted_3","_Fragment","_renderList","product","key","id","src","imageUrl","alt","title","_toDisplayString","category","_ctx","currency","origin_price","price","type","onClick","$options","data","myFavorite","handleFavorite","products","isLoading","inject","methods","this","getProducts","url","$http","get","then","response","success","filter","includes","toastMessagesMixin","catch","error","removeFavorite","item","splice","indexOf","message","emitter","emit","mounted","__exports__","render"],"sourceRoot":""}