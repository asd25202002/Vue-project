"use strict";(self["webpackChunkcat_house"]=self["webpackChunkcat_house"]||[]).push([[746],{2746:function(e,s,a){a.r(s),a.d(s,{default:function(){return j}});var l=a(3396),i=a(7139),t=a(9242);const r={class:"my-4"},o=(0,l._)("hr",null,null,-1),c={class:"container"},n=(0,l.uE)('<nav style="--bs-breadcrumb-divider:&#39;&gt;&#39;;" aria-label="索引列"><ol class="breadcrumb"><li class="breadcrumb-item"> 首頁 </li><li class="breadcrumb-item"> 購物車確認 </li><li class="breadcrumb-item active" aria-current="page">填寫資料</li></ol></nav><div class="d-none d-lg-block mb-5"><ul class="row row-col-4 align-items-center text-center list-unstyled"><li class="col position-relative"><p class="m-0 py-2">購物車確認</p></li><li class="col position-relative text-white progressMenu__itme--active"><p class="m-0 py-2">填寫資料</p></li><li class="col position-relative"><p class="m-0 py-2">資料確認</p></li><li class="col position-relative"><p class="m-0 py-2 fs-6">購物完成</p></li></ul></div><div class="mb-3 fs-3 text-center"><strong>訂購人資訊</strong></div>',3),d={class:"mb-3"},u={class:"input-group"},m=(0,l._)("label",{for:"inputUserName",class:"input-group-text"},"姓名",-1),p=(0,l._)("div",{class:"valid-feedback text-end"},[(0,l._)("i",{class:"bi bi-check-circle"}),(0,l.Uk)("姓名格式正確 ")],-1),b={class:"mb-3"},h={class:"input-group"},f=(0,l._)("label",{for:"inputUserPhone",class:"input-group-text"},"手機號碼",-1),v=(0,l._)("div",{class:"valid-feedback text-end"},[(0,l._)("i",{class:"bi bi-check-circle"}),(0,l.Uk)("手機號碼格式正確 ")],-1),_={class:"mb-3"},g={class:"input-group"},k=(0,l._)("label",{for:"inputUserEmail",class:"input-group-text"},"電子郵件",-1),x=(0,l._)("div",{class:"valid-feedback text-end"},[(0,l._)("i",{class:"bi bi-check-circle"}),(0,l.Uk)("電子郵件格式正確 ")],-1),y={class:"mb-3"},U={class:"input-group"},V=(0,l._)("label",{for:"inputUserPosition",class:"input-group-text"},"地址",-1),C=(0,l._)("div",{class:"valid-feedback text-end"},[(0,l._)("i",{class:"bi bi-check-circle"}),(0,l.Uk)("地址格式正確 ")],-1),E={class:"mb-3"},w=(0,l._)("label",{for:"inputMessages",class:"form-label"},"留言",-1),P={class:"mb-3 text-center"},M=["disabled"];function W(e,s,a,W,N,$){const q=(0,l.up)("VField"),j=(0,l.up)("ErrorMessage"),F=(0,l.up)("VForm");return(0,l.wg)(),(0,l.iD)("main",r,[o,(0,l._)("div",c,[n,(0,l.Wm)(F,{class:"row mx-auto cart"},{default:(0,l.w5)((({errors:e})=>[(0,l._)("div",d,[(0,l._)("div",u,[m,(0,l.Wm)(q,{type:"text",name:"userName",id:"inputUserName",class:(0,i.C_)(["form-control",{"is-invalid":e["userName"]||!N.form.user.name,"is-valid":!e["userName"]&&N.form.user.name}]),placeholder:"請輸入姓名",rules:"required","aria-label":"姓名輸入框",modelValue:N.form.user.name,"onUpdate:modelValue":s[0]||(s[0]=e=>N.form.user.name=e)},null,8,["class","modelValue"]),(0,l.Wm)(j,{name:"userName",class:"invalid-feedback text-end"}),p])]),(0,l._)("div",b,[(0,l._)("div",h,[f,(0,l.Wm)(q,{type:"text",name:"phone",id:"inputUserPhone",class:(0,i.C_)(["form-control",{"is-invalid":e["phone"]||!N.form.user.tel,"is-valid":!e["phone"]&&N.form.user.tel}]),placeholder:"請輸入手機號碼",rules:$.isPhone,"aria-label":"手機號碼輸入框",modelValue:N.form.user.tel,"onUpdate:modelValue":s[1]||(s[1]=e=>N.form.user.tel=e)},null,8,["class","rules","modelValue"]),(0,l.Wm)(j,{name:"phone",class:"invalid-feedback text-end"}),v])]),(0,l._)("div",_,[(0,l._)("div",g,[k,(0,l.Wm)(q,{type:"email",name:"userEmail",id:"inputUserEmail",class:(0,i.C_)(["form-control",{"is-invalid":e["userEmail"]||!N.form.user.email,"is-valid":!e["userEmail"]&&N.form.user.email}]),placeholder:"請輸入電子郵件",rules:"email|required","aria-label":"電子郵件輸入框",modelValue:N.form.user.email,"onUpdate:modelValue":s[2]||(s[2]=e=>N.form.user.email=e)},null,8,["class","modelValue"]),(0,l.Wm)(j,{name:"userEmail",class:"invalid-feedback text-end"}),x])]),(0,l._)("div",y,[(0,l._)("div",U,[V,(0,l.Wm)(q,{type:"text",name:"userPosition",id:"inputUserPosition",class:(0,i.C_)(["form-control",{"is-invalid":e["userPosition"]||!N.form.user.address,"is-valid":!e["userPosition"]&&N.form.user.address}]),placeholder:"請輸入地址",rules:"required","aria-label":"地址輸入框",modelValue:N.form.user.address,"onUpdate:modelValue":s[3]||(s[3]=e=>N.form.user.address=e)},null,8,["class","modelValue"]),(0,l.Wm)(j,{name:"userPosition",class:"invalid-feedback text-end"}),C])]),(0,l._)("div",E,[w,(0,l.wy)((0,l._)("textarea",{type:"text",id:"inputMessages",class:"form-control","onUpdate:modelValue":s[4]||(s[4]=e=>N.form.message=e)},null,512),[[t.nr,N.form.message]])]),(0,l._)("div",P,[(0,l._)("button",{type:"sumbit",class:"btn btn-secondary",disabled:N.isEmpty||0!==Object.keys(e).length,href:"#",onClick:s[5]||(s[5]=(0,t.iM)(((...e)=>$.gotoCartCheck&&$.gotoCartCheck(...e)),["prevent"]))},"確認資料並送出",8,M)])])),_:1})])])}var N={data(){return{form:{user:{name:"",email:"",tel:"",address:""},message:""},isEmpty:!0}},inject:["toastMessagesMixin"],methods:{getCarts(){const e="https://vue3-course-api.hexschool.io/api/yui-api/cart";this.isLoading=!0,this.$http.get(e).then((e=>{this.isLoading=!1,e.data.success&&(this.carts=e.data.data)}))},isPhone(e){const s=/^(09)[0-9]{8}$/;return!!s.test(e)||"需要正確的電話號碼"},gotoCartCheck(){const e="https://vue3-course-api.hexschool.io/api/yui-api/order";this.$http.post(e,{data:this.form}).then((e=>{console.log(e),this.toastMessagesMixin(e,"成功建立訂單"),this.$router.push({name:"cartcheck",params:{id:e.data.orderId}})}))}},watch:{form:{handler(e){e.user.email&&e.user.tel&&e.user.name&&e.user.address&&(this.isEmpty=!1)},deep:!0}}},$=a(89);const q=(0,$.Z)(N,[["render",W]]);var j=q}}]);
//# sourceMappingURL=746.68924c00.js.map