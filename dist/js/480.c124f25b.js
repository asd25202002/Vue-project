"use strict";(self["webpackChunkcat_house"]=self["webpackChunkcat_house"]||[]).push([[480],{3480:function(t,s,a){a.r(s),a.d(s,{default:function(){return V}});var c=a(3396),i=a(7139),r=a(9242);const e={class:"my-4"},l=(0,c._)("hr",null,null,-1),o={class:"container"},u={style:{"--bs-breadcrumb-divider":"'>'"},"aria-label":"索引列"},d={class:"breadcrumb"},n=(0,c._)("li",{class:"breadcrumb-item"}," 首頁 ",-1),p={class:"breadcrumb-item"},h={class:"breadcrumb-item active","aria-current":"page"},g={class:"row"},_={class:"col-lg-6"},b=["src","alt"],m={class:"col-lg-6"},k={class:"fs-3"},v={class:"fs-5"},y=(0,c.Uk)("售價：NT"),f=(0,c._)("i",{class:"bi bi-currency-dollar"},null,-1),w=(0,c._)("hr",null,null,-1),x={class:"btn-group"},z=(0,c._)("i",{class:"bi bi-cart"},null,-1),C=(0,c.Uk)(" 加入購物車 "),P=[z,C],U={class:"nav nav-tabs mb-3"},M={class:"nav-item active"},$={class:"nav-item"},D={key:0,class:"mb-3"},q=(0,c._)("p",{class:"fs-3"},[(0,c._)("strong",null,"產品描述")],-1),L={key:1,class:"mb-3"},H=(0,c._)("p",{class:"fs-3"},[(0,c._)("strong",null,"產品說明")],-1),N=(0,c._)("div",{class:"mb-3 fs-3"},[(0,c._)("strong",null,"你可能也會喜歡....")],-1),T={class:"row g-4 p-0 list-unstyled"},Y={key:0,class:"col-sm-6 col-lg-2 border-0"},j={class:"card border-0 h-100"},I=["src"],K={class:"card-body text-center"},Z={class:"card-title text-truncate"},A={class:"card-text"},B={class:"card-text"},E={class:"card-text"},F=(0,c.Uk)(" NT"),G=(0,c._)("i",{class:"bi bi-currency-dollar"},null,-1),J=["onClick"];function O(t,s,a,z,C,O){return(0,c.wg)(),(0,c.iD)("main",e,[l,(0,c._)("div",o,[(0,c._)("nav",u,[(0,c._)("ol",d,[n,(0,c._)("li",p,(0,i.zw)(C.product.category),1),(0,c._)("li",h,(0,i.zw)(C.product.title),1)])]),(0,c._)("div",g,[(0,c._)("div",_,[(0,c._)("img",{src:C.product.imageUrl,alt:C.product.title,class:"img-fluid"},null,8,b)]),(0,c._)("div",m,[(0,c._)("p",k,(0,i.zw)(C.product.title),1),(0,c._)("p",v,[y,f,(0,c.Uk)((0,i.zw)(C.product.price),1)]),w,(0,c._)("div",x,[(0,c._)("button",{type:"button",class:"btn btn-outline-success",onClick:s[0]||(s[0]=(0,r.iM)((t=>O.addCart(C.product.id)),["prevent"]))},P)])])]),(0,c._)("ul",U,[(0,c._)("li",M,[(0,c._)("a",{href:"#",class:"nav-link link-dark","aria-current":"page",onClick:s[1]||(s[1]=(0,r.iM)((t=>C.page="產品描述"),["prevent"]))}," 產品描述 ")]),(0,c._)("li",$,[(0,c._)("a",{href:"#",class:"nav-link link-dark",onClick:s[2]||(s[2]=(0,r.iM)((t=>C.page="產品說明"),["prevent"]))}," 產品內容 ")])]),"產品描述"===C.page?((0,c.wg)(),(0,c.iD)("div",D,[q,(0,c.Uk)(" "+(0,i.zw)(C.product.description),1)])):(0,c.kq)("",!0),"產品說明"===C.page?((0,c.wg)(),(0,c.iD)("div",L,[H,(0,c.Uk)(" "+(0,i.zw)(C.product.content),1)])):(0,c.kq)("",!0),N,(0,c._)("ul",T,[((0,c.wg)(!0),(0,c.iD)(c.HY,null,(0,c.Ko)(O.filterProducts,((s,a)=>((0,c.wg)(),(0,c.iD)(c.HY,{key:s.id},[a<6&&s.id!==C.product.id?((0,c.wg)(),(0,c.iD)("li",Y,[(0,c._)("div",j,[(0,c._)("img",{src:s.imageUrl,alt:"product.title",class:"img-fluid mx-auto productImg-size"},null,8,I),(0,c._)("div",K,[(0,c._)("h5",Z,(0,i.zw)(s.title),1),(0,c._)("p",A," 遊戲人數："+(0,i.zw)(s.unit)+" 人 ",1),(0,c._)("p",B," 發行商："+(0,i.zw)(s.category),1),(0,c._)("p",E,[F,G,(0,c.Uk)((0,i.zw)(t.$filters.currency(s.price)),1)]),(0,c._)("a",{type:"button",class:"btn btn-secondary stretched-link",href:"#",onClick:(0,r.iM)((t=>O.gotoProduct(s.id)),["prevent"])}," 前往 ",8,J)])])])):(0,c.kq)("",!0)],64)))),128))])])])}var Q={data(){return{product:{},products:[],page:"產品描述"}},inject:["emitter","toastMessagesMixin"],methods:{getProducts(){this.isLoading=!0;const t="https://vue3-course-api.hexschool.io/api/yui-api/products/all";this.$http.get(t).then((t=>{this.isLoading=!1,t.data.success&&(this.products=t.data.products,this.pagination=t.data.pagination)}))},getProduct(t){const s=t||this.$route.params.id,a=`https://vue3-course-api.hexschool.io/api/yui-api/product/${s}`;this.$http.get(a).then((t=>{this.isLoading=!1,t.data.success&&(this.product=t.data.product)}))},addCart(t){const s="https://vue3-course-api.hexschool.io/api/yui-api/cart",a={product_id:t,qty:1};this.$http.post(s,{data:a}).then((t=>{this.isLoading=!1,t.data.success&&(this.emitter.emit("update-cart"),this.toastMessagesMixin(t,"加入購物車"))}))},gotoProduct(t){this.$router.push({name:"userproduct",params:{id:t}}),this.getProduct(t)}},computed:{filterProducts(){return this.products.filter((t=>{const s=t.category.match(this.product.category);return s}))}},created(){this.getProduct(),this.getProducts()}},R=a(89);const S=(0,R.Z)(Q,[["render",O]]);var V=S}}]);
//# sourceMappingURL=480.c124f25b.js.map