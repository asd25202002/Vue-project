"use strict";(self["webpackChunkcat_house"]=self["webpackChunkcat_house"]||[]).push([[96],{4226:function(t,s){s["Z"]={storeFavorite(t){const s=JSON.stringify(t);localStorage.setItem("favoriteProduct",s)},getFavorite(){return JSON.parse(localStorage.getItem("favoriteProduct"))}}},7096:function(t,s,i){i.r(s),i.d(s,{default:function(){return st}});var e=i(3396),a=i(7139),r=i(9242);const c={class:"my-4"},o=(0,e._)("hr",null,null,-1),l={class:"container"},u={style:{"--bs-breadcrumb-divider":"'>'"},"aria-label":"索引列"},n={class:"breadcrumb"},d=(0,e._)("li",{class:"breadcrumb-item"}," 首頁 ",-1),p={class:"breadcrumb-item"},g={class:"breadcrumb-item active","aria-current":"page"},h={class:"row"},m={class:"col-lg-6"},v=["src","alt"],_={class:"col-lg-6"},b={class:"fs-3"},k={class:"fs-5"},y=(0,e.Uk)("售價：NT"),f=(0,e._)("i",{class:"bi bi-currency-dollar"},null,-1),w=(0,e._)("hr",null,null,-1),x={class:"btn-group"},M=(0,e._)("i",{class:"bi bi-cart"},null,-1),F=(0,e.Uk)(" 加入購物車 "),z=[M,F],P=(0,e._)("i",{class:"bi bi-heart"},null,-1),C=(0,e.Uk)(" 加入願望清單 "),U=[P,C],$={class:"nav nav-tabs mb-3"},D={class:"nav-item active"},q={class:"nav-item"},L={key:0,class:"mb-3"},N=(0,e._)("p",{class:"fs-3"},[(0,e._)("strong",null,"產品描述")],-1),S={key:1,class:"mb-3"},Z=(0,e._)("p",{class:"fs-3"},[(0,e._)("strong",null,"產品說明")],-1),I=(0,e._)("div",{class:"mb-3 fs-3"},[(0,e._)("strong",null,"你可能也會喜歡....")],-1),O={class:"row g-4 p-0 list-unstyled"},H={key:0,class:"col-sm-6 col-lg-2 border-0"},J={class:"card border-0 h-100"},T=["src"],Y={class:"card-body text-center"},j={class:"card-title text-truncate"},K={class:"card-text"},A={class:"card-text"},B={class:"card-text"},E=(0,e.Uk)(" NT"),G=(0,e._)("i",{class:"bi bi-currency-dollar"},null,-1),Q=["onClick"];function R(t,s,i,M,F,P){return(0,e.wg)(),(0,e.iD)("main",c,[o,(0,e._)("div",l,[(0,e._)("nav",u,[(0,e._)("ol",n,[d,(0,e._)("li",p,(0,a.zw)(F.product.category),1),(0,e._)("li",g,(0,a.zw)(F.product.title),1)])]),(0,e._)("div",h,[(0,e._)("div",m,[(0,e._)("img",{src:F.product.imageUrl,alt:F.product.title,class:"img-fluid"},null,8,v)]),(0,e._)("div",_,[(0,e._)("p",b,(0,a.zw)(F.product.title),1),(0,e._)("p",k,[y,f,(0,e.Uk)((0,a.zw)(F.product.price),1)]),w,(0,e._)("div",x,[(0,e._)("button",{type:"button",class:"btn btn-outline-success",onClick:s[0]||(s[0]=(0,r.iM)((t=>P.addCart(F.product.id)),["prevent"]))},z),(0,e._)("button",{type:"button",class:"btn btn-outline-danger",onClick:s[1]||(s[1]=(0,r.iM)((t=>P.toggleFavorite(F.product)),["prevent"]))},U)])])]),(0,e._)("ul",$,[(0,e._)("li",D,[(0,e._)("a",{href:"#",class:"nav-link link-dark","aria-current":"page",onClick:s[2]||(s[2]=(0,r.iM)((t=>F.page="產品描述"),["prevent"]))}," 產品描述 ")]),(0,e._)("li",q,[(0,e._)("a",{href:"#",class:"nav-link link-dark",onClick:s[3]||(s[3]=(0,r.iM)((t=>F.page="產品說明"),["prevent"]))}," 產品內容 ")])]),"產品描述"===F.page?((0,e.wg)(),(0,e.iD)("div",L,[N,(0,e.Uk)(" "+(0,a.zw)(F.product.description),1)])):(0,e.kq)("",!0),"產品說明"===F.page?((0,e.wg)(),(0,e.iD)("div",S,[Z,(0,e.Uk)(" "+(0,a.zw)(F.product.content),1)])):(0,e.kq)("",!0),I,(0,e._)("ul",O,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(P.filterProducts,((s,i)=>((0,e.wg)(),(0,e.iD)(e.HY,{key:s.id},[i<6&&s.id!==F.product.id?((0,e.wg)(),(0,e.iD)("li",H,[(0,e._)("div",J,[(0,e._)("img",{src:s.imageUrl,alt:"product.title",class:"img-fluid mx-auto productImg-size"},null,8,T),(0,e._)("div",Y,[(0,e._)("h5",j,(0,a.zw)(s.title),1),(0,e._)("p",K," 遊戲人數："+(0,a.zw)(s.unit)+" 人 ",1),(0,e._)("p",A," 發行商："+(0,a.zw)(s.category),1),(0,e._)("p",B,[E,G,(0,e.Uk)((0,a.zw)(t.$filters.currency(s.price)),1)]),(0,e._)("a",{type:"button",class:"btn btn-secondary stretched-link",href:"#",onClick:(0,r.iM)((t=>P.gotoProduct(s.id)),["prevent"])}," 前往 ",8,Q)])])])):(0,e.kq)("",!0)],64)))),128))])])])}i(6699);var V=i(4226),W={data(){return{product:{},products:[],page:"產品描述",myFavorite:V.Z.getFavorite()||[]}},inject:["emitter","toastMessagesMixin"],methods:{getProducts(){this.isLoading=!0;const t="https://vue3-course-api.hexschool.io/api/yui-api/products/all";this.$http.get(t).then((t=>{this.isLoading=!1,t.data.success&&(this.products=t.data.products,this.pagination=t.data.pagination)}))},getProduct(t){const s=t||this.$route.params.id,i=`https://vue3-course-api.hexschool.io/api/yui-api/product/${s}`;this.$http.get(i).then((t=>{this.isLoading=!1,t.data.success&&(this.product=t.data.product)}))},addCart(t){const s="https://vue3-course-api.hexschool.io/api/yui-api/cart",i={product_id:t,qty:1};this.$http.post(s,{data:i}).then((t=>{this.isLoading=!1,t.data.success&&(this.emitter.emit("update-cart"),this.toastMessagesMixin(t,"加入購物車"))}))},gotoProduct(t){this.$router.push({name:"userproduct",params:{id:t}}),this.getProduct(t)},toggleFavorite(t){this.myFavorite.includes(t.id)?(this.myFavorite.splice(this.myFavorite.indexOf(t.id),1),this.toastMessagesMixin({data:{success:!0,message:`已將 ${t.title} 移除收藏`}},"移除收藏")):(this.myFavorite.push(t.id),this.toastMessagesMixin({data:{success:!0,message:`已將 ${t.title} 加入收藏`}},"加入收藏")),V.Z.storeFavorite(this.myFavorite),this.emitter.emit("update-favorite")}},computed:{filterProducts(){return this.products.filter((t=>{const s=t.category.match(this.product.category);return s}))}},created(){this.getProduct(),this.getProducts()}},X=i(89);const tt=(0,X.Z)(W,[["render",R]]);var st=tt}}]);
//# sourceMappingURL=96.a7934c21.js.map