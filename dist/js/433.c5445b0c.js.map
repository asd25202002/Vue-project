{"version":3,"file":"js/433.c5445b0c.js","mappings":"yMAEQA,MAAM,Q,GACVC,EAAAA,EAAAA,GAAI,mB,GACCD,MAAM,a,gpBAyBJA,MAAM,O,GACJA,MAAM,Y,SACJA,MAAM,a,GAIJA,MAAM,4B,mBAINA,MAAM,c,GACJA,MAAM,O,GACJA,MAAM,S,GAGNA,MAAM,S,GACJA,MAAM,iB,iBAINA,MAAM,Q,GACJA,MAAM,e,wCAITC,EAAAA,EAAAA,GAAoD,SAA7CC,IAAI,OAAOF,MAAM,oBAAmB,KAAC,G,GAG3CA,MAAM,Y,GACNA,MAAM,Q,WACC,O,GAAGC,EAAAA,EAAAA,GAAqC,KAAlCD,MAAM,yBAAuB,S,GAUpDA,MAAM,Y,GACTC,EAAAA,EAAAA,GAEM,OAFDD,MAAM,0DAAwD,EACjEC,EAAAA,EAAAA,GAAqB,cAAb,UADV,G,GAGKD,MAAM,Y,GACTC,EAAAA,EAAAA,GAAmD,OAA9CD,MAAM,cAAY,EAACC,EAAAA,EAAAA,GAAqB,cAAb,UAAhC,G,GACKD,MAAM,uB,aAEPC,EAAAA,EAAAA,GAAqC,KAAlCD,MAAM,yBAAuB,S,aAIzBA,MAAM,c,GACTC,EAAAA,EAAAA,GAAqC,KAAlCD,MAAM,yBAAuB,S,GAI1BC,EAAAA,EAAAA,GAAqC,KAAlCD,MAAM,yBAAuB,S,GAKhDC,EAAAA,EAAAA,GAEM,OAFDD,MAAM,0DAAwD,EACjEC,EAAAA,EAAAA,GAAoB,cAAZ,SADV,G,GAGKD,MAAM,Y,GACJA,MAAM,oB,GACTC,EAAAA,EAAAA,GAA8E,SAAvEC,IAAI,cAAcF,MAAM,oBAA/B,EAAkDC,EAAAA,EAAAA,GAAoB,cAAZ,SAA1D,G,GAKFA,EAAAA,EAAAA,GAAqF,OAAhFD,MAAM,4BAA0B,UAAC,SAAIC,EAAAA,EAAAA,GAA2B,cAAnB,eAAb,QAAgC,gBAArE,G,GAEGD,MAAM,e,WACwD,Q,qHAvG3EG,EAAAA,EAAAA,IAAgCC,EAAA,CAArBC,OAAQC,EAAAA,WAAS,oBAC5BL,EAAAA,EAAAA,GA2GO,OA3GP,EA2GO,CA1GLM,GACAN,EAAAA,EAAAA,GAwGM,MAxGN,EAwGM,CAvGJO,GAwBAP,EAAAA,EAAAA,GA8EM,MA9EN,EA8EM,EA7EJA,EAAAA,EAAAA,GAsCM,MAtCN,EAsCM,CArCyBK,EAAAA,MAAMG,QAAAA,EAAAA,EAAAA,OAAnCC,EAAAA,EAAAA,IAEM,MAFN,EAEM,EADJT,EAAAA,EAAAA,GAA+C,cAAvC,QAAIU,EAAAA,EAAAA,IAAGL,EAAAA,MAAMG,MAAMG,QAAS,KAAE,OADxC,iBAqCI,aAlCJF,EAAAA,EAAAA,IAiCMG,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAjCqCR,EAAAA,MAAMG,OAAdM,K,WAAnCL,EAAAA,EAAAA,IAiCM,OAjCDV,MAAM,iBAA8CgB,IAAKD,EAAKE,IAAnE,EACEhB,EAAAA,EAAAA,GAGM,MAHN,EAGM,EAFJA,EAAAA,EAAAA,GAC+B,OADzBiB,IAAKH,EAAKI,QAAQC,SAAWC,IAAKN,EAAKI,QAAQG,MACrDtB,MAAM,0BADN,aAGFC,EAAAA,EAAAA,GA2BM,MA3BN,EA2BM,EA1BJA,EAAAA,EAAAA,GAyBM,MAzBN,EAyBM,EAxBJA,EAAAA,EAAAA,GAEM,MAFN,GAEMU,EAAAA,EAAAA,IADDI,EAAKI,QAAQG,OAAK,IAEvBrB,EAAAA,EAAAA,GAoBM,MApBN,EAoBM,EAnBJA,EAAAA,EAAAA,GAGM,MAHN,EAGM,EAFJA,EAAAA,EAAAA,GACqC,UAD7BsB,KAAK,SAASvB,MAAM,yBAC3BwB,QAAK,GAAEC,EAAAA,QAAQV,EAAKE,KAAK,KAAE,EAAAS,MAE9BzB,EAAAA,EAAAA,GAOM,MAPN,EAOM,EANJA,EAAAA,EAAAA,GAKM,MALN,EAKM,WAJJA,EAAAA,EAAAA,GAE2B,SAFpBsB,KAAK,SAASI,IAAI,IAAIV,GAAG,OAChCjB,MAAM,2B,yBAAoCe,EAAKa,IAAGC,EACjDC,SAAM,GAAEL,EAAAA,WAAWV,IAFpB,kBAC0CA,EAAKa,OAE/CG,OAGJ9B,EAAAA,EAAAA,GAMM,MANN,EAMM,EALJA,EAAAA,EAAAA,GAII,IAJJ,EAII,EAHFA,EAAAA,EAAAA,GAES,iBAFE+B,GAEF,QAFuC,KAC9CrB,EAAAA,EAAAA,IAAGL,EAAAA,MAAM2B,aAAW,oBA1BlC,SAmCFhC,EAAAA,EAAAA,GAqCM,MArCN,EAqCM,CApCJiC,GAGAjC,EAAAA,EAAAA,GAiBM,MAjBN,EAiBM,CAhBJkC,GACAlC,EAAAA,EAAAA,GAcM,MAdN,EAcM,CAbUK,EAAAA,MAAM8B,QAAU9B,EAAAA,MAAM2B,cAAAA,EAAAA,EAAAA,OAApCvB,EAAAA,EAAAA,IAES,SAAA2B,EAAA,CADPC,GACO,iBADiChC,EAAAA,MAAM8B,OAAK,OADrD,eAGW9B,EAAAA,MAAM8B,MAAQ9B,EAAAA,MAAM2B,cAAAA,EAAAA,EAAAA,OAA/BvB,EAAAA,EAAAA,IASM,MAAA6B,EAAA,EARJtC,EAAAA,EAAAA,GAII,WAHFA,EAAAA,EAAAA,GAEM,MAFN,EAEM,CADJuC,GACI,iBADoClC,EAAAA,MAAM8B,OAAK,QAGvDnC,EAAAA,EAAAA,GAEI,WADFA,EAAAA,EAAAA,GAA6E,eAArEwC,GAAqE,iBAA7BnC,EAAAA,MAAM2B,aAAW,WAPrE,mBAYJS,GAGAzC,EAAAA,EAAAA,GAQM,MARN,EAQM,EAPJA,EAAAA,EAAAA,GAKM,MALN,EAKM,CAJJ0C,GAII,SAHJ1C,EAAAA,EAAAA,GAAwE,SAAjEsB,KAAK,OAAON,GAAG,cAAcjB,MAAM,e,qCAAwBM,EAAAA,KAAIuB,IAAtE,iBAAkEvB,EAAAA,SAClEL,EAAAA,EAAAA,GACmC,UAD3BsB,KAAK,SAASvB,MAAM,4BAC3BwB,QAAK,8BAAUC,EAAAA,QAAAA,EAAAA,UAAAA,IAAM,eAAE,QAE1BmB,KAEF3C,EAAAA,EAAAA,GAEM,MAFN,EAEM,EADJE,EAAAA,EAAAA,IAAmF0C,EAAA,CAAtE7C,MAAM,oBAAqB8C,GAAI,CAAAC,KAAAA,aAA5C,C,kBAAiE,IAAI,M,iBAtG/E,G,CA+GF,OACEC,OACE,MAAO,CACLvC,MAAO,CAAC,EACRwC,KAAM,GACNC,WAAW,EAEd,EACDC,OAAQ,CAAC,UAAW,sBACpBC,QAAS,CACPC,WAEE,MAAMC,EAAO,wDACbC,KAAKL,WAAY,EACjBK,KAAKC,MAAMC,IAAIH,GAAKI,MAAMC,IACxBJ,KAAKL,WAAY,EACbS,EAASX,KAAKY,UAChBL,KAAK9C,MAAQkD,EAASX,KAAKA,KAC7B,GAEH,EACDa,QAAQ5C,GAEN,MAAMqC,EAAO,yDAAiErC,IAC9EsC,KAAKL,WAAY,EACjBK,KAAKC,MAAMM,OAAOR,GAAKI,MAAMC,IACvBA,EAASX,KAAKY,UAChBL,KAAKQ,mBAAmBJ,EAAU,WAClCJ,KAAKS,QAAQC,KAAK,eAClBV,KAAKF,WACP,GAEH,EACDa,WAAW/C,GAET,MAAMgD,EAAO,CACXC,WAAYjD,EAAQF,GACpBW,IAAKT,EAAQS,KAET0B,EAAO,yDAAiEnC,EAAQF,KACtFsC,KAAKL,WAAY,EACjBK,KAAKC,MAAMa,IAAIf,EAAK,CAAEN,KAAMmB,IAAQT,MAAMC,IACpCA,EAASX,KAAKY,UAChBL,KAAKQ,mBAAmBJ,EAAU,WAClCJ,KAAKF,WACP,GAEH,EACDiB,SAEE,MAAMrB,EAAO,CACXA,KAAMM,KAAKN,MAEPK,EAAO,0DACbC,KAAKL,WAAY,EACjBK,KAAKC,MAAMe,KAAKjB,EAAK,CAAEN,KAAMC,IAAQS,MAAMC,IACzCJ,KAAKL,WAAY,EACjBK,KAAKQ,mBAAmBJ,EAAU,SAClCJ,KAAKF,UAAL,GAEH,GAEHmB,UACEjB,KAAKF,UACN,G,QC5KH,MAAMoB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://cat-house/./src/views/UsercartViews.vue","webpack://cat-house/./src/views/UsercartViews.vue?7f89"],"sourcesContent":["<template>\n  <VLoading :active=\"isLoading\" />\n  <main class=\"my-4\">\n    <hr>\n    <div class=\"container\">\n      <nav style=\"--bs-breadcrumb-divider: '>';\" aria-label=\"索引列\">\n        <ol class=\"breadcrumb\">\n          <li class=\"breadcrumb-item\">\n            首頁\n          </li>\n          <li class=\"breadcrumb-item active\" aria-current=\"page\">購物車確認</li>\n        </ol>\n      </nav>\n      <div class=\"d-none d-lg-block mb-5\">\n        <ul class=\"row row-col-4 align-items-center text-center list-unstyled\">\n          <li class=\"col position-relative progressMenu__itme--active\">\n            <p class=\"m-0 py-2 text-white\">購物車確認</p>\n          </li>\n          <li class=\"col position-relative\">\n            <p class=\"m-0 py-2\">填寫資料</p>\n          </li>\n          <li class=\"col position-relative\">\n            <p class=\"m-0 py-2\">資料確認</p>\n          </li>\n          <li class=\"col position-relative\">\n            <p class=\"m-0 py-2 fs-6\">購物完成</p>\n          </li>\n        </ul>\n      </div>\n      <div class=\"row\">\n        <div class=\"col-lg-8\">\n          <div class=\"mb-3 fs-5\" v-if=\"carts.carts\">\n            <strong>已購買 {{ carts.carts.length }} 件</strong>\n          </div>\n          <div class=\"row row-cols-2\" v-for=\"item in carts.carts\" :key=\"item.id\">\n            <div class=\"col-3 align-items-center\">\n              <img :src=\"item.product.imageUrl\" :alt=\"item.product.title\"\n              class=\"img-fluid cartImg-size\">\n            </div>\n            <div class=\"col-9 mb-3\">\n              <div class=\"row\">\n                <div class=\"col-5\">\n                  {{ item.product.title }}\n                </div>\n                <div class=\"col-7\">\n                  <div class=\"mb-3 text-end\">\n                    <button type=\"button\" class=\"btn btn-outline-danger\"\n                    @click=\"delCart(item.id)\">刪除</button>\n                  </div>\n                  <div class=\"mb-3\">\n                    <div class=\"input-group\">\n                      <input type=\"number\" min=\"1\" id=\"Unit\"\n                      class=\"form-control text-center\" v-model=\"item.qty\"\n                      @change=\"updateCart(item)\">\n                      <label for=\"Unit\" class=\"input-group-text\">盒</label>\n                    </div>\n                  </div>\n                  <div class=\"text-end\">\n                    <p class=\"fs-5\">\n                      <strong>小計 <i class=\"bi bi-currency-dollar\"></i>\n                        {{ carts.final_total }}\n                      </strong>\n                    </p>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"col-lg-4\">\n          <div class=\"mb-3 py-2 bg-categoryTitle text-center text-white fs-5\">\n            <strong>合計金額</strong>\n          </div>\n          <div class=\"row mb-5\">\n            <div class=\"col-6 fs-4\"><strong>商品合計</strong></div>\n            <div class=\"col-6 text-end fs-4\">\n              <strong v-if=\"carts.total === carts.final_total\">\n                <i class=\"bi bi-currency-dollar\"></i>{{ carts.total }}\n              </strong>\n              <div v-if=\"carts.total > carts.final_total\">\n                <p>\n                  <del class=\"text-muted\">\n                    <i class=\"bi bi-currency-dollar\"></i>{{ carts.total }}\n                  </del>\n                </p>\n                <p>\n                  <strong><i class=\"bi bi-currency-dollar\"></i>{{ carts.final_total }}</strong>\n                </p>\n              </div>\n            </div>\n          </div>\n          <div class=\"mb-3 py-2 bg-categoryTitle text-center text-white fs-5\">\n            <strong>優惠卷</strong>\n          </div>\n          <div class=\"row mb-5\">\n            <div class=\"input-group mb-3\">\n              <label for=\"inputCoupon\" class=\"input-group-text\"><strong>優惠碼</strong></label>\n              <input type=\"text\" id=\"inputCoupon\" class=\"form-control\" v-model=\"code\">\n              <button type=\"button\" class=\"btn btn-outline-secondary\"\n              @click.prevent=\"coupon\">兌換</button>\n            </div>\n            <div class=\"fs-5 text-end text-muted\">現在輸入<strong>summer9487</strong>即可享有25%的優惠</div>\n          </div>\n          <div class=\"text-center\">\n            <router-link class=\"btn btn-secondary\" :to=\"{ name: 'cartform'}\">前往結帳</router-link>\n          </div>\n        </div>\n      </div>\n    </div>\n  </main>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      carts: {},\n      code: '',\n      isLoading: false,\n    };\n  },\n  inject: ['emitter', 'toastMessagesMixin'],\n  methods: {\n    getCarts() {\n      // 取得購物車\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\n      this.isLoading = true;\n      this.$http.get(url).then((response) => {\n        this.isLoading = false;\n        if (response.data.success) {\n          this.carts = response.data.data;\n        }\n      });\n    },\n    delCart(id) {\n      // 刪除購物車商品\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${id}`;\n      this.isLoading = true;\n      this.$http.delete(url).then((response) => {\n        if (response.data.success) {\n          this.toastMessagesMixin(response, '刪除購物車項目');\n          this.emitter.emit('update-cart');\n          this.getCarts();\n        }\n      });\n    },\n    updateCart(product) {\n      // 更新購物車\n      const cart = {\n        product_id: product.id,\n        qty: product.qty,\n      };\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${product.id}`;\n      this.isLoading = true;\n      this.$http.put(url, { data: cart }).then((response) => {\n        if (response.data.success) {\n          this.toastMessagesMixin(response, '更新購物車項目');\n          this.getCarts();\n        }\n      });\n    },\n    coupon() {\n      // 套用優惠卷\n      const code = {\n        code: this.code,\n      };\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/coupon`;\n      this.isLoading = true;\n      this.$http.post(url, { data: code }).then((response) => {\n        this.isLoading = false;\n        this.toastMessagesMixin(response, '優惠卷使用');\n        this.getCarts();\n      });\n    },\n  },\n  created() {\n    this.getCarts();\n  },\n};\n</script>\n","import { render } from \"./UsercartViews.vue?vue&type=template&id=56b6af24\"\nimport script from \"./UsercartViews.vue?vue&type=script&lang=js\"\nexport * from \"./UsercartViews.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"G:\\\\六角\\\\Vue\\\\Vue-project\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","for","_createVNode","_component_VLoading","active","$data","_hoisted_2","_hoisted_4","carts","_createElementBlock","_toDisplayString","length","_Fragment","_renderList","item","key","id","src","product","imageUrl","alt","title","type","onClick","$options","_hoisted_16","min","qty","$event","onChange","_hoisted_20","_hoisted_24","final_total","_hoisted_26","_hoisted_28","total","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_39","_hoisted_40","_component_router_link","to","name","data","code","isLoading","inject","methods","getCarts","url","this","$http","get","then","response","success","delCart","delete","toastMessagesMixin","emitter","emit","updateCart","cart","product_id","put","coupon","post","created","__exports__","render"],"sourceRoot":""}